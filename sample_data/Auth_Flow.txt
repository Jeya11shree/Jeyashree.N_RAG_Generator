Auth Flow Transcript

Title: Signup and Email Verification

Summary:
- User initiates signup (POST /signup)
- System creates pending account and sends verification email with link: https://example.com/verify?token=<token>
- Verification token TTL: 24 hours (configurable)
- Token is single-use. If used or expired, respond with appropriate error and link to resend flow.
- Resend verification limited to 5 attempts per hour per email by default.

Sequence:
1. Client -> POST /signup {email, password}
2. Server validates input. If OK creates user with is_verified=false and stores hashed token with expiry.
3. Server sends email using template `Email_Template.html` with verification link.
4. User clicks link -> GET /verify?token=...
5. Server checks token: if valid and not expired -> sets is_verified=true and returns 200.
6. If token invalid -> 400 with code INVALID_TOKEN.
7. If token expired -> 410 with code TOKEN_EXPIRED and suggestion to resend.

Notes:
- If email sending fails, server should surface a non-sensitive error and queue retries.
- System should log resend requests for monitoring and rate-limiting.
